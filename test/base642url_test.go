package test

import (
	"encoding/base64"
	"fmt"
	"io/ioutil"
	"regexp"
	"strings"
	"testing"
)

func TestBase642Url(t *testing.T) {
	// base64编码的图片数据
	data := "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFu2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYTg3MzFiOSwgMjAyMS8wOS8wOS0wMDozNzozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wNS0yNVQxOToxMDoyMCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDUtMjVUMjE6MzY6NDErMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDUtMjVUMjE6MzY6NDErMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdmYTY0MWY5LTZlODktOGE0OS05OGUxLWZhNjg1MDRlM2VhYiIgeG1wTU06RG9jdW1lbnRJRD0i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"

	fmt.Println(base64ToLocalURL(data))
}

func base64ToLocalURL(base64Data string) string {
	if len(base64Data) == 0 {
		return ""
	}
	r, _ := regexp.Compile("^(data:\\s*image\\/(\\w+);base64,)")
	if r.MatchString(base64Data) {
		matchs := r.FindStringSubmatch(base64Data)
		fileName := fmt.Sprintf("%s.%s", "agc", matchs[2])
		filePath := fmt.Sprintf("./%s", fileName)
		decodedData, err := base64.StdEncoding.DecodeString(strings.Replace(base64Data, matchs[1], "", -1))
		if err != nil {
			return ""
		}
		err = ioutil.WriteFile(filePath, decodedData, 0644)
		if err != nil {
			return ""
		}
		return filePath
	}
	return ""
}
